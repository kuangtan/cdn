!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ScrollSpy=t()}(this,function(){"use strict";var a=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,t)},t)}catch(e){}return e}()&&{passive:!0};function f(e,t){var s=t&&t instanceof Element?t:document;return e instanceof Element?e:s.querySelector(e)}return function(v,e){e=e||{};var h,t,s,n,o,i=this,w={};function r(e){var t,s,n,o,i=h.items[e],r=h.targets[e],c=i.classList.contains("dropdown-item")&&i.closest(".dropdown-menu"),l=c&&c.previousElementSibling,a=i.nextElementSibling,f=a&&a.getElementsByClassName("active").length,d=h.isWindow&&r.getBoundingClientRect(),u=i.classList.contains("active")||!1,m=(h.isWindow?d.top+h.scrollOffset:r.offsetTop)-w.offset,g=h.isWindow?d.bottom+h.scrollOffset-w.offset:h.targets[e+1]?h.targets[e+1].offsetTop-w.offset:v.scrollHeight,p=f||h.scrollOffset>=m&&g>h.scrollOffset;if(!u&&p)i.classList.add("active"),l&&!l.classList.contains("active")&&l.classList.add("active"),function(e){this&&this.dispatchEvent(e)}.call(v,(t="activate",s="scrollspy",n=h.items[e],(o=new CustomEvent(t+".bs."+s,{cancelable:!0})).relatedTarget=n,o));else if(u&&!p)i.classList.remove("active"),l&&l.classList.contains("active")&&!i.parentNode.getElementsByClassName("active").length&&l.classList.remove("active");else if(u&&p||!p&&!u)return}function c(){var e;e=n.getElementsByTagName("A"),h.length!==e.length&&(h.items=[],h.targets=[],Array.from(e).map(function(e){var t=e.getAttribute("href"),s=t&&"#"===t.charAt(0)&&"#"!==t.slice(-1)&&f(t);s&&(h.items.push(e),h.targets.push(s))}),h.length=e.length),h.scrollOffset=h.isWindow?[window.pageYOffset||document.documentElement.scrollTop,window.pageXOffset||document.documentElement.scrollLeft][0]:v.scrollTop,h.items.map(function(e,t){return r(t)})}function l(e){o[e=e?"addEventListener":"removeEventListener"]("scroll",i.refresh,a),window[e]("resize",i.refresh,a)}i.refresh=function(){c()},i.dispose=function(){l(),delete v.ScrollSpy},(v=f(v)).ScrollSpy&&v.ScrollSpy.dispose(),t=v.getAttribute("data-target"),s=v.getAttribute("data-offset"),n=f(e.target||t),o=v.offsetHeight<v.scrollHeight?v:window,n&&(w.target=n,w.offset=parseInt(e.offset||s)||10,(h={length:0,items:[],targets:[]}).isWindow=o===window,v.ScrollSpy||l(1),i.refresh(),v.ScrollSpy=i)}});