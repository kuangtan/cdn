!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Button=t()}(this,function(){"use strict";function u(e,t){var c=t&&t instanceof Element?t:document;return e instanceof Element?e:c.querySelector(e)}function l(e){this&&this.dispatchEvent(e)}return function(n){var s,e,t,i=((t=new CustomEvent("change"+".bs."+"button",{cancelable:!0})).relatedTarget=e,t);function c(e){var c="LABEL"===e.target.tagName?e.target:e.target.closest("LABEL")?e.target.closest("LABEL"):null,t=c&&c.getElementsByTagName("INPUT")[0];if(t){if(l.call(t,i),l.call(n,i),"checkbox"===t.type){if(i.defaultPrevented)return;t.checked?(c.classList.remove("active"),t.getAttribute("checked"),t.removeAttribute("checked"),t.checked=!1):(c.classList.add("active"),t.getAttribute("checked"),t.setAttribute("checked","checked"),t.checked=!0),n.toggled||(n.toggled=!0)}if("radio"===t.type&&!n.toggled){if(i.defaultPrevented)return;t.checked&&(0!==e.screenX||0!=e.screenY)||(c.classList.add("active"),c.classList.add("focus"),t.setAttribute("checked","checked"),t.checked=!0,n.toggled=!0,Array.from(s).map(function(e){var t=e.getElementsByTagName("INPUT")[0];e!==c&&e.classList.contains("active")&&(l.call(t,i),e.classList.remove("active"),t.removeAttribute("checked"),t.checked=!1)}))}setTimeout(function(){n.toggled=!1},50)}}function a(e){32===(e.which||e.keyCode)&&e.target===document.activeElement&&c(e)}function o(e){32===(e.which||e.keyCode)&&e.preventDefault()}function d(e){var t;"INPUT"===e.target.tagName&&(t="focusin"===e.type?"add":"remove",e.target.closest(".btn").classList[t]("focus"))}function r(e){n[e=e?"addEventListener":"removeEventListener"]("click",c,!1),n[e]("keyup",a,!1),n[e]("keydown",o,!1),n[e]("focusin",d,!1),n[e]("focusout",d,!1)}this.dispose=function(){r(),delete n.Button},(n=u(n)).Button&&n.Button.dispose(),(s=n.getElementsByClassName("btn")).length&&(n.Button||r(1),n.toggled=!1,n.Button=this,Array.from(s).map(function(e){!e.classList.contains("active")&&u("input:checked",e)&&e.classList.add("active"),e.classList.contains("active")&&!u("input:checked",e)&&e.classList.remove("active")}))}});