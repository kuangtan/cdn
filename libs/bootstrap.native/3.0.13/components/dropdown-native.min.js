!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Dropdown=t()}(this,function(){"use strict";function g(e,t){var n=t&&t instanceof Element?t:document;return e instanceof Element?e:n.querySelector(e)}function N(e,t,n){var o=new CustomEvent(e+".bs."+t,{cancelable:!0});return o.relatedTarget=n,o}function b(e){this&&this.dispatchEvent(e)}function E(e){e.focus?e.focus():e.setActive()}return function(a,e){var t,n,o,i,d,c,r,s=this,u=null,l=[];function p(e){(e.href&&"#"===e.href.slice(-1)||e.parentNode&&e.parentNode.href&&"#"===e.parentNode.href.slice(-1))&&this.preventDefault()}function f(){var e=a.open?"addEventListener":"removeEventListener";document[e]("click",h,!1),document[e]("keydown",w,!1),document[e]("keyup",v,!1),document[e]("focus",h,!1)}function h(e){var t=e.target,n=t&&(t.getAttribute("data-toggle")||t.parentNode&&t.parentNode.getAttribute&&t.parentNode.getAttribute("data-toggle"));"focus"===e.type&&(t===a||t===c||c.contains(t))||(t===c||c.contains(t))&&(r||n)||(u=t===a||a.contains(t)?a:null,s.hide(),p.call(e,t))}function m(e){u=a,s.show(),p.call(e,e.target)}function w(e){var t=e.which||e.keyCode;38!==t&&40!==t||e.preventDefault()}function v(e){var t=e.which||e.keyCode,n=document.activeElement,o=n===a,i=c.contains(n),d=n.parentNode===c||n.parentNode.parentNode===c,r=l.indexOf(n);d&&(r=o?0:38===t?1<r?r-1:0:40===t&&r<l.length-1?r+1:r,l[r]&&E(l[r])),(l.length&&d||!l.length&&(i||o)||!i)&&a.open&&27===t&&(s.toggle(),u=null)}s.show=function(){t=N("show","dropdown",u),b.call(d,t),t.defaultPrevented||(c.classList.add("show"),d.classList.add("show"),a.setAttribute("aria-expanded",!0),a.open=!0,a.removeEventListener("click",m,!1),setTimeout(function(){E(c.getElementsByTagName("INPUT")[0]||a),f(),n=N("shown","dropdown",u),b.call(d,n)},1))},s.hide=function(){o=N("hide","dropdown",u),b.call(d,o),o.defaultPrevented||(c.classList.remove("show"),d.classList.remove("show"),a.setAttribute("aria-expanded",!1),a.open=!1,f(),E(a),setTimeout(function(){a.Dropdown&&a.addEventListener("click",m,!1)},1),i=N("hidden","dropdown",u),b.call(d,i))},s.toggle=function(){d.classList.contains("show")&&a.open?s.hide():s.show()},s.dispose=function(){d.classList.contains("show")&&a.open&&s.hide(),a.removeEventListener("click",m,!1),delete a.Dropdown},(a=g(a)).Dropdown&&a.Dropdown.dispose(),d=a.parentNode,c=g(".dropdown-menu",d),Array.from(c.children).map(function(e){e.children.length&&"A"===e.children[0].tagName&&l.push(e.children[0]),"A"===e.tagName&&l.push(e)}),a.Dropdown||("tabindex"in c||c.setAttribute("tabindex","0"),a.addEventListener("click",m,!1)),r=!0===e||"true"===a.getAttribute("data-persist")||!1,a.open=!1,a.Dropdown=s}});