!function(t,r){"use strict";"object"==typeof module&&module.exports?module.exports=r(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],r):r(t.URI)}(this,function(s){"use strict";var t=s.prototype,f=t.fragment,e=t.build;s.fragmentPrefix="!";var r=s._parts;return s._parts=function(){var t=r();return t.fragmentPrefix=s.fragmentPrefix,t},t.fragmentPrefix=function(t){return this._parts.fragmentPrefix=t,this},t.fragment=function(t,r){var e,n=this._parts.fragmentPrefix,i=this._parts.fragment||"";return!0===t?(e=i.substring(0,n.length)!==n?s(""):new s(i.substring(n.length)),(this._fragmentURI=e)._parentURI=this,e):void 0!==t&&"string"!=typeof t?((this._fragmentURI=t)._parentURI=t,this._parts.fragment=n+t.toString(),this.build(!r),this):("string"==typeof t&&(this._fragmentURI=void 0),f.call(this,t,r))},t.build=function(t){var r=e.call(this,t);return!1!==t&&this._parentURI&&this._parentURI.fragment(this),r},s});